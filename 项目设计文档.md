# 内网SSL证书申请与反向代理配置工具——项目设计文档

## 一、项目简介
本项目旨在为内网环境提供一站式SSL证书申请与nginx反向代理自动化配置服务，简化证书签发、配置流程，提升安全性与运维效率。系统采用前后端分离架构，界面现代美观，操作简洁，适合新手快速上手。

## 二、技术栈
- 前端：React + Vite + Tailwind CSS
- 后端：Python FastAPI
- 证书管理：调用 openssl 命令行
- 配置管理：Jinja2 渲染nginx配置模板
- 反向代理：nginx (官方镜像，Docker部署 )
- 部署：Docker, Docker Compose

## 三、功能模块
### 1. 证书管理
- CA根证书一键生成与下载
- 域名证书申请 (自定义域名、IP，自动填充其余参数 )
- 证书文件管理 (列表、下载、删除 )

### 2. nginx反向代理配置
- 自动生成nginx配置文件 (支持多域名/多站点 )
- 证书与站点自动关联
- nginx配置一键重载

### 3. 系统管理
- 证书与nginx配置状态展示
- 操作日志与异常提示
- 权限与安全 (基础认证，防止误操作 )

### 4. 前端界面
- 现代化极简UI，响应式设计
- 向导式证书申请流程
- 配置、证书、状态一站式管理面板

## 四、目录结构建议
```
SSlinker/
├── backend/                # FastAPI后端
│   ├── main.py             # 主入口
│   ├── api/                # 路由与API
│   ├── services/           # openssl、nginx等服务封装
│   ├── templates/          # nginx配置模板
│   └── utils/              # 工具函数
├── frontend/               # React前端
│   ├── src/
│   │   ├── components/     # 组件
│   │   ├── pages/          # 页面
│   │   ├── api/            # API请求
│   │   └── styles/         # Tailwind配置
│   └── vite.config.js
├── docker/
│   ├── nginx/              # nginx配置与证书挂载目录
│   └── Dockerfile.nginx    # nginx镜像定制
├── docker-compose.yml      # 一键部署
└── README.md               # 项目说明
```

## 五、核心流程说明
### 1. 证书申请
- 前端表单收集域名、IP，POST到后端
- 后端调用openssl自动生成证书，返回证书信息与下载链接

### 2. nginx配置
- 前端选择证书与目标后端，填写代理参数
- 后端渲染nginx配置模板，写入配置目录
- 后端执行nginx reload，返回状态

### 3. Docker部署
- 证书、nginx配置通过挂载目录与nginx容器共享
- 后端与nginx容器通过docker-compose编排

## 六、关键技术点
- openssl命令自动化与异常处理
- nginx配置模板化与热重载
- 前后端API设计 (RESTful，简洁明了 )
- 文件权限与安全性

## 七、开发建议
- 先实现后端API与核心证书/配置功能，再开发前端页面
- 前端注重用户体验与交互流程
- 多做异常与边界处理，提升稳定性

## 八、后续可扩展方向
- 支持证书自动续签
- 支持ACME协议与Let's Encrypt
- 增加用户/权限管理
- 支持多种反向代理 (如Caddy、Traefik等 )

---
如需详细API接口或具体模块设计，可进一步细化。
